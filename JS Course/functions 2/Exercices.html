<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercices</title>
</head>


<body>

  <button class="js-button">Start</button>
  <button class="js-cart-button">Add to cart 1</button>
  <button class="js-cart2-button">Add to cart 2</button>
  <div class="js-cart-message"></div>

  <div style="margin-top: 20px;">
     <button class="js-add-button">Add</button>
     <button class="js-remove-button">Remove</button>
  </div>

<script>
//////Exercices 1:
    let add = function() {
      console.log('numbers')
    } 
    add();


//////Exercice2:
    function runTwice(fun){
      fun();
      fun();
    }
    
    runTwice(function(){
      console.log('exercice2')
    });

    runTwice(add);
    

//////Exercice3+4:
    let buttonClicked = false;
    const buttonElement = document.querySelector('.js-button')
    buttonElement.addEventListener('click', ()=>{
      if (!buttonClicked){
        setTimeout(()=>{
          buttonElement.innerText = 'Loading.';
        },200);

        setTimeout(()=>{
          buttonElement.innerText = 'Loading..';
        },800);

        setTimeout(()=>{
          buttonElement.innerText = 'Loading...';
        },1600);

        setTimeout(()=>{
          buttonElement.innerText = 'Finished';
        },2600);

        buttonClicked=true;
      } 
        else{
          buttonElement.innerText = 'Start';
          buttonClicked=false;
        }
    })

//////Exercice 5:
    const addToCartElement = document.querySelector(".js-cart-button");

    addToCartElement.addEventListener('click', ()=>{
      
      setTimeout(() => {
        document.querySelector('.js-cart-message').innerHTML='<p>Added</p>'
      }, 1000);

      setTimeout(() => {
        document.querySelector('.js-cart-message').innerHTML='';
      }, 2000);

    })

//////exercice6: //cancel double setinterval
    const addToCartElement2 = document.querySelector(".js-cart2-button")
    let setTimeOutPOPID;
    let setTimeoutDEPOPID;

    addToCartElement2.addEventListener('click', ()=>{
      updateTitle();

      clearTimeout(setTimeOutPOPID);
      setTimeOutPOPID = setTimeout(()=>{
        document.querySelector('.js-cart-message').innerHTML='<p>Added</p>';
        console.log('pop')
      },1500);

      clearTimeout(setTimeoutDEPOPID);
      setTimeoutDEPOPID = setTimeout(()=>{
        document.querySelector('.js-cart-message').innerHTML='';
        console.log('depop')
      },3000);

      
    })

//////Exercice7: title notification
    function updateTitle(){
      setInterval(() => {
        document.title ='(1) Item was added'
      }, 1000);

      setInterval(() => {
        document.title ='Exercices'
      }, 2000);
    }

//////Exercice 8:
let messageNumber = 2;

let showIntervalPopID;
let showIntervalDePopID;

function displayMessages(messages){
  clearInterval(showIntervalPopID);
  showIntervalPopID = setInterval(() => {
        document.title =`(${messages}) messages`
      }, 1000);

  clearInterval(showIntervalDePopID);
  showIntervalDePopID = setInterval(() => {
        document.title ='Exercices'
      }, 2000);
}

// add event listeners to add and remove buttons
document.querySelector('.js-add-button').addEventListener('click', ()=>{
  clearInterval(showIntervalPopID);
  clearInterval(showIntervalDePopID);
  messageNumber++;
  displayMessages(messageNumber);
})

document.querySelector('.js-remove-button').addEventListener('click', ()=>{
    clearInterval(showIntervalPopID);
    clearInterval(showIntervalDePopID);
    messageNumber--;
    displayMessages(messageNumber);
        if (messageNumber===0){
          clearInterval(showIntervalPopID);
          clearInterval(showIntervalDePopID);
          document.title ='Exercices';
        } 
})


</script>
</body>
</html>